
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Lecture%2012/">
      
      
        <link rel="next" href="../Lecture%203/">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../feed_rss_updated.xml">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Lecture 2 - obsidian-mkdocs template</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#most-simple-model-sisd-single-instruction-single-data-stream" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="obsidian-mkdocs template" class="md-header__button md-logo" aria-label="obsidian-mkdocs template" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            obsidian-mkdocs template
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lecture 2
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="obsidian-mkdocs template" class="md-nav__button md-logo" aria-label="obsidian-mkdocs template" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    obsidian-mkdocs template
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Abdul's Notes
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECS%20158%20-%20Programming%20on%20Parallel%20Architectures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ECS 158   Programming on Parallel Architectures
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../GPU/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GPU
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lecture%201/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 1
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lecture%2012/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Latency, Throughput, Dependencies, etc...
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Lecture 2
    
  </span>
  

      </a>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lecture%203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 3
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lecture%204/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 4
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lecture%205/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Channels in Go
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lecture%206/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 6
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lecture%207/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 7
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lecture%208/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 8
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lecture%209/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 9
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cache%20thrashing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cache thrashing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../interrupt%20handler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Interrupt handler
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../poisoned/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Poisoned
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../queue/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Queue
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_18" >
        
          
          <label class="md-nav__link" for="__nav_18" id="__nav_18_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_18">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../blog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<p><em>More Philosophy, and Threading</em>
What are the two basic approaches to parallelism?
- Multiprogramming
    - running multiple independent programs in parallel
    - Easy
- Parallel Computing
    - Run ONE program faster
    - Hard
- In this class, we are mostly focused on the 2nd (Parallel Computing)</p>
<h1 id="most-simple-model-sisd-single-instruction-single-data-stream">Most simple model, SISD (Single Instruction, Single Data Stream)<a class="headerlink" href="#most-simple-model-sisd-single-instruction-single-data-stream" title="Permanent link">&para;</a></h1>
<p><img alt="Screenshot 2025-05-01 at 3.10.36 PM.png" src="../screenshots/Screenshot%202025-05-01%20at%203.10.36%20PM.png" /></p>
<p>Sequential computer that exploits no parallelism in either the instruction or the data streams
Examples of SISD arch. are the traditional uniprocessor machines
- RISC-V processor
- We consider superscalar as SISD b/c the programming model is sequential
- A <strong>superscalar processor</strong>:  Can <strong>fetch, decode, and execute multiple instructions per clock cycle</strong>. BUT: all of these instructions come from a <strong>single instruction stream</strong> (your program’s normal sequence of instructions).
- <strong>Normal SISD</strong>: One chef making one dish at a time.
- <strong>Superscalar SISD</strong>: One chef working on <em>several dishes</em> at once, but still following a <strong>single recipe</strong> (single instruction stream).
<strong>SIMD</strong> would be like:
One chef making <strong>several copies of the same dish at once</strong> (single instruction, multiple data).
<strong>MIMD</strong> would be:
Multiple chefs each following <strong>different recipes</strong>.</p>
<h1 id="single-instruction-multiple-data-stream-simd">Single-Instruction / Multiple-Data Stream (SIMD)<a class="headerlink" href="#single-instruction-multiple-data-stream-simd" title="Permanent link">&para;</a></h1>
<p>SIMD computer processes multiple data streams using a single instruction stream, e.g, Intel SIMD Instruction extensions or NVIDIA GPU's
<img alt="Screenshot 2025-05-01 at 3.15.22 PM.png" src="../screenshots/Screenshot%202025-05-01%20at%203.15.22%20PM.png" /></p>
<h1 id="multiple-instruction-multiple-data-stream-mimd">Multiple Instruction / Multiple-Data Stream (MIMD)<a class="headerlink" href="#multiple-instruction-multiple-data-stream-mimd" title="Permanent link">&para;</a></h1>
<p><img alt="Screenshot 2025-05-01 at 3.16.49 PM.png" src="../screenshots/Screenshot%202025-05-01%20at%203.16.49%20PM.png" /></p>
<p>Multiple autonomous processors simultaneously executing different instructions on different data.
- MIMD archs. include multicore and warehouse-scale computers
- Huge amount of control logic</p>
<p><img alt="Screenshot 2025-05-01 at 3.18.46 PM.png" src="../screenshots/Screenshot%202025-05-01%20at%203.18.46%20PM.png" /></p>
<h1 id="problem-types"><strong>Problem Types</strong><a class="headerlink" href="#problem-types" title="Permanent link">&para;</a></h1>
<h2 id="sequential"><strong>Sequential</strong><a class="headerlink" href="#sequential" title="Permanent link">&para;</a></h2>
<p>A, then B
We have a <em>dependency</em>
The dependency is that B depends on A
It does not matter how many processors you have, there is a <em>dependency</em>.
A lot of Amdahl's law issues come from this
Can't do A and B at the same time, cause you have to wait for A to finish before trying to do B</p>
<h2 id="simd"><strong>SIMD</strong><a class="headerlink" href="#simd" title="Permanent link">&para;</a></h2>
<p>SIMD is a very constrained type of parallelism
For every A, do simple X
The key features are that the operation is the same for every element in the group. There is a very limited control flow.
- We can do conditional operations
- AKA short if conditions
- But we usually do X and Y for both and then select the answer:
    - Turning into a piece of *straight line cod</p>
<h2 id="the-biggest-simd-problem-is"><strong>The Biggest SIMD Problem</strong> is...<a class="headerlink" href="#the-biggest-simd-problem-is" title="Permanent link">&para;</a></h2>
<p>The <em>BIGGEST</em> problem is dense Matrix multiply
Image filtering, noise reduction
Core operation in Deep learning
What does it mean for a matrix to be <em>dense</em>?
- This means that most of the entries are non-zero</p>
<h1 id="mimd">MIMD<a class="headerlink" href="#mimd" title="Permanent link">&para;</a></h1>
<p>MIMD is far less constrained, for every A, we are gonna do <strong>{<em>big complex thing</em>}</strong>
Can have branches, loops, many different things going on at once
- EG, do one thing for <strong>A</strong>, a different thing for <strong>B,</strong> and a different thing for <strong>C</strong>
The advantages of MIMD are that it's far more flexible
Anything that is SIMD, can be done MIMD!
The disadvantage however, is that it is far more expensive
<strong>MIMD</strong> processors are dominated by <strong>control logic</strong> and <strong>SIMD</strong> processors are almost completely <strong>compute</strong></p>
<p><strong>Q:</strong> Would a web-server be a MIMD, or a SIMD problem?
<strong>A:</strong> A web-server would be a MIMD problem, cause you have a bunch of web-requests coming from everywhere, from different things. You need flexibility that SIMD just doesn't offer / have the capability to.</p>
<h1 id="the-canonical-mimd-problem">The <em>Canonical</em> MIMD Problem<a class="headerlink" href="#the-canonical-mimd-problem" title="Permanent link">&para;</a></h1>
<h2 id="sparse-matrix-multiply">Sparse Matrix Multiply<a class="headerlink" href="#sparse-matrix-multiply" title="Permanent link">&para;</a></h2>
<p>This is the one used to benchmark supercomputers
Most entries within the matrix are actually 0
- So far better to skip a whole bunch of multiplications:
    - 0 times a row is a row of 0's
This is used for bigger simulation problems
- Nuclear weapons, weather, etc..</p>
<h1 id="gpus-vs-cpus">GPU's vs CPU's!<a class="headerlink" href="#gpus-vs-cpus" title="Permanent link">&para;</a></h1>
<p>When a GPU can be used, it is 50x more powerful than a general CPU
When the problem works on the GPU, the GPU is vastly faster
And when the performance is not limited by moving the problem into the GPU either</p>
<h1 id="but-when-does-the-gpu-get-used">But... when does the GPU get used?<a class="headerlink" href="#but-when-does-the-gpu-get-used" title="Permanent link">&para;</a></h1>
<p>The GPU really only gets used for limited applications
The CPU gets used all the damn time
CPU &gt;&gt; GPU on sequential performance
CPU &gt;&gt; GPU on parallel sequential tasks
- Since the CPU has 12 cores, this allows 12 seperate sequential tasks to run at full speed</p>
<h1 id="it-comes-down-to-branches">It comes down to branches!<a class="headerlink" href="#it-comes-down-to-branches" title="Permanent link">&para;</a></h1>
<p>SIMD Problem
- For each A, do this straight line code
MIMD Problem
- For each A do this <strong><em>complex branching code</em></strong>
The big differentiator is <strong><em>data dependent branches</em></strong>
- SIMD cannot handle data dependent branches by going a certain way for A and another way for B</p>
<h2 id="throughput-on-its-own-is-meaningless">Throughput on it's own, is meaningless<a class="headerlink" href="#throughput-on-its-own-is-meaningless" title="Permanent link">&para;</a></h2>
<p>Throughput is generally defined as: output per unit time
Assuming that you have a task that is both parallel and scalable
You can always throw more resources at it and make it run faster</p>
<p>EG, I can get the same throughput on a SIMD task with 
- 1 GPU 
- 500 CPUs
We care about throughput / unit-cost!!
- W, <span class="arithmatex">\(cm^3\)</span>, $ (moneyyy)</p>
<h1 id="performance-vs-efficiency-cores">Performance VS. Efficiency Cores<a class="headerlink" href="#performance-vs-efficiency-cores" title="Permanent link">&para;</a></h1>
<p>For a modern CPU, it generally has multiple <strong><em>performance</em></strong> oriented processor cores
- The main goals of these types of cores is to run a single stream of execution as <strong>fast</strong> as possible!
- Some processors may support two streams of execution within a single core
    - i.e, AMD and Intel</p>
<p>CPU's also have multiple <strong><em>efficiency</em></strong> cores
    - These run slower but they have a simpler design as well as a slower clock rate. The <strong><em>energy</em></strong> used per operation is vastly slower.</p>
<h1 id="wait-parallelism-can-save-energy">Wait, parallelism can save energy?<a class="headerlink" href="#wait-parallelism-can-save-energy" title="Permanent link">&para;</a></h1>
<p>Yes, parallelism can help save energy!
If the parallel version performs the <strong>same total operations</strong>,
running across <strong>many efficient cores</strong> can consume less power than running the sequential version on a <strong>single high-performance core</strong>.
This is because lower clock speeds and more efficient cores reduce <strong>energy per operation</strong>. That’s why <strong>throughput per unit X (i.e, joule)</strong> is a better metric than just raw speed.</p>
<p><strong>Parallelism doesn’t just improve speed, it can also reduce energy usage by spreading work across efficient, lower-power resources.</strong>
We can use half the energy than usual.</p>
<h1 id="programs-and-threads">Programs and Threads...<a class="headerlink" href="#programs-and-threads" title="Permanent link">&para;</a></h1>
<p>A program is a <strong>single unified memory space</strong>
If you don't explicitly set up shared memory, each program has its own address space.
We are able to run multiple copies of the same program. However, these copies do not share any of the data memory. If you do a write in one instance, that is not seen in any other instance (i.e, copy)</p>
<h2 id="whats-within-a-program">What's within a program<a class="headerlink" href="#whats-within-a-program" title="Permanent link">&para;</a></h2>
<ul>
<li>At least one thread of execution</li>
<li>A program counter: where in the program the current thread is</li>
<li>The call stack: Local variables for the current thread's execution
<img alt="Screenshot 2025-05-01 at 6.56.14 PM.png" src="../screenshots/Screenshot%202025-05-01%20at%206.56.14%20PM.png" />
<img alt="Screenshot 2025-05-01 at 6.57.51 PM.png" src="../screenshots/Screenshot%202025-05-01%20at%206.57.51%20PM.png" /></li>
</ul>
<p>Every single thread has it's own unique call-stack. They can read data out of each of there call stacks. </p>
<h2 id="different-types-of-threads">Different types of threads<a class="headerlink" href="#different-types-of-threads" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Hardware Thread</strong>: What the CPU itself supports<ul>
<li>Able to run one (or sometimes two), hardware threads per CPU core</li>
<li>This is the number of tasks that the CPU can run at the same time</li>
</ul>
</li>
<li><strong>Operating System (OS) thread</strong>: What the OS schedules<ul>
<li>The OS is responsible for mapping a (i.e, maybe even unlimited) number of OS threads, onto the running hardware</li>
</ul>
</li>
<li><strong>Software Thread:</strong> What the program thinks of...<ul>
<li>Usually maps 1-1 with OS threads, but, we will see that we can have MANY more software threads than OS threads (i.e, software threads would be co-routines)</li>
</ul>
</li>
</ul>
<p><img alt="threadssss.png" src="../screenshots/threadssss.png" /></p>
<h2 id="what-is-the-use-for-threads">What is the use for threads?<a class="headerlink" href="#what-is-the-use-for-threads" title="Permanent link">&para;</a></h2>
<p><strong><em>Increasing performance by operating in parallel</em></strong>
- Allows us to take a lot of advantage of the multiple processor cores
- Ideally, you want the same number of threads as you have hardware threads
<strong><em>Increasing performance by avoiding waiting</em></strong>
- Do stuff while waiting for other stuff</p>
<h1 id="what-the-hell-is-the-problem-with-threads">What the hell is the problem with threads?<a class="headerlink" href="#what-the-hell-is-the-problem-with-threads" title="Permanent link">&para;</a></h1>
<p>If two different threads are working on different things, there is no problem at all.
If we have two threads that are reading the same thing, still, there is no problem
However, here is where shit can go wrong, if one of the threads <strong><em>writes</em></strong> things
    We can get something called a <strong><em>race condition</em></strong> 
The way that weaver describes it, is that a program seems to not be deterministic
Two memory access form a data race if different threads attempts to access the same location, and at least one is a write, and they occur one after another
If there is a data race, the result of the program vary's heavily and depends on chance
We avoid data races by synchronizing writing and reading so that we can get deterministic behavior
Synchronization done by user-level routines that rely on hardware synchronization instructions</p>
<h2 id="analogy-buying-beer-in-the-after-times">Analogy: Buying Beer in the after times...<a class="headerlink" href="#analogy-buying-beer-in-the-after-times" title="Permanent link">&para;</a></h2>
<p>Your fridge has no beer. You and your roommate will return from classes at some point and check the fridge</p>
<p>Whoever gets home first will check the fridge, go and buy beer, and return</p>
<p>What if the other person gets back while the first person is buying beer?
Dude, you just bought <strong><em>TWICE</em></strong> the amount of beer that you need! UGH!</p>
<p>It would have been helpful if someone left a note that they went to go buy more beer...</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
    
  </body>
</html>